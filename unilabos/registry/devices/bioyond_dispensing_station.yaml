bioyond_dispensing_station:
  category:
  - workstation
  - bioyond
  - bioyond_dispensing_station
  class:
    action_value_mappings:
      batch_create_90_10_vial_feeding_tasks:
        feedback: {}
        goal:
          delay_time: delay_time
          hold_m_name: hold_m_name
          liquid_material_name: liquid_material_name
          speed: speed
          temperature: temperature
          titration: titration
        goal_default:
          delay_time: '600'
          hold_m_name: ''
          liquid_material_name: NMP
          speed: '400'
          temperature: '40'
          titration: ''
        handles:
          input:
          - data_key: titration
            data_source: handle
            data_type: object
            handler_key: titration
            io_type: source
            label: Titration Data From Calculation Node
          output:
          - data_key: order_code
            data_source: handle
            data_type: string
            handler_key: task_order_code
            io_type: sink
            label: Task Order Code
          - data_key: order_id
            data_source: handle
            data_type: string
            handler_key: task_order_id
            io_type: sink
            label: Task Order ID
        result:
          return_info: return_info
          order_code: order_code
          order_id: order_id
        schema:
          description: 批量创建90%10%小瓶投料任务。从计算节点接收titration数据,包含物料名称、主称固体质量、滴定固体质量和滴定溶剂体积。
          properties:
            feedback:
              properties: {}
              required: []
              title: BatchCreate9010VialFeedingTasks_Feedback
              type: object
            goal:
              properties:
                delay_time:
                  default: '600'
                  description: 延迟时间(秒),默认600
                  type: string
                hold_m_name:
                  description: 库位名称,如"C01",必填参数
                  type: string
                liquid_material_name:
                  default: NMP
                  description: 10%物料的液体物料名称,默认为"NMP"
                  type: string
                speed:
                  default: '400'
                  description: 搅拌速度,默认400
                  type: string
                temperature:
                  default: '40'
                  description: 温度(℃),默认40
                  type: string
                titration:
                  description: '滴定信息对象,包含: name(物料名称), main_portion(主称固体质量g), titration_portion(滴定固体质量g),
                    titration_solvent(滴定溶液体积mL)'
                  type: string
              required:
              - titration
              - hold_m_name
              title: BatchCreate9010VialFeedingTasks_Goal
              type: object
            result:
              properties:
                order_code:
                  description: 任务编码，如 task_vial_1762939132
                  type: string
                order_id:
                  description: 任务ID（UUID），如 3a1d8989-303b-aa49-72bc-efe68e66a62d
                  type: string
                return_info:
                  type: string
              required:
              - order_code
              - order_id
              - return_info
              title: BatchCreate9010VialFeedingTasks_Result
              type: object
          required:
          - goal
          title: BatchCreate9010VialFeedingTasks
          type: object
        type: UniLabJsonCommand
      batch_create_diamine_solution_tasks:
        feedback: {}
        goal:
          delay_time: delay_time
          liquid_material_name: liquid_material_name
          solutions: solutions
          speed: speed
          temperature: temperature
        goal_default:
          delay_time: '600'
          liquid_material_name: NMP
          solutions: ''
          speed: '400'
          temperature: '20'
        handles:
          input:
          - data_key: solutions
            data_source: handle
            data_type: array
            handler_key: solutions
            io_type: source
            label: Solution Data From Python
          output:
          - data_key: order_codes
            data_source: handle
            data_type: string
            handler_key: TASK_ORDER_CODES
            io_type: sink
            label: Task Order Codes List
          - data_key: order_ids
            data_source: handle
            data_type: string
            handler_key: TASK_ORDER_IDS
            io_type: sink
            label: Task Order IDs
        result:
          return_info: return_info
          order_codes: order_codes
          order_ids: order_ids
        schema:
          description: 批量创建二胺溶液配置任务。自动为多个二胺样品创建溶液配置任务，每个任务包含固体物料称量、溶剂添加、搅拌混合等步骤。
          properties:
            feedback:
              properties: {}
              required: []
              title: BatchCreateDiamineSolutionTasks_Feedback
              type: object
            goal:
              properties:
                delay_time:
                  default: '600'
                  description: 溶液配置完成后的延迟时间（秒），用于充分混合和溶解，默认600秒
                  type: string
                liquid_material_name:
                  default: NMP
                  description: 液体溶剂名称，用于溶解固体物料，默认为NMP（N-甲基吡咯烷酮）
                  type: string
                solutions:
                  description: '溶液列表，JSON数组格式，每个元素包含: name(物料名称), order(序号), solid_mass(固体质量g),
                    solvent_volume(溶剂体积mL)。示例: [{"name": "MDA", "order": 0, "solid_mass":
                    5.0, "solvent_volume": 20}, {"name": "MPDA", "order": 1, "solid_mass":
                    4.5, "solvent_volume": 18}]'
                  type: string
                speed:
                  default: '400'
                  description: 搅拌速度（rpm），用于混合溶液，默认400转/分钟
                  type: string
                temperature:
                  default: '20'
                  description: 配置温度（℃），溶液配置过程的目标温度，默认20℃（室温）
                  type: string
              required:
              - solutions
              title: BatchCreateDiamineSolutionTasks_Goal
              type: object
            result:
              properties:
                order_codes:
                  description: 任务编码列表，JSON数组格式
                  type: string
                order_ids:
                  description: 任务ID列表，JSON数组格式
                  type: string
                return_info:
                  description: 批量任务创建结果汇总，JSON格式包含总数、成功数、失败数及每个任务的详细信息
                  type: string
              required:
              - order_codes
              - order_ids
              - return_info
              title: BatchCreateDiamineSolutionTasks_Result
              type: object
          required:
          - goal
          title: BatchCreateDiamineSolutionTasks
          type: object
        type: UniLabJsonCommand
      create_90_10_vial_feeding_task:
        feedback: {}
        goal:
          delay_time: delay_time
          hold_m_name: hold_m_name
          order_name: order_name
          percent_10_1_assign_material_name: percent_10_1_assign_material_name
          percent_10_1_liquid_material_name: percent_10_1_liquid_material_name
          percent_10_1_target_weigh: percent_10_1_target_weigh
          percent_10_1_volume: percent_10_1_volume
          percent_10_2_assign_material_name: percent_10_2_assign_material_name
          percent_10_2_liquid_material_name: percent_10_2_liquid_material_name
          percent_10_2_target_weigh: percent_10_2_target_weigh
          percent_10_2_volume: percent_10_2_volume
          percent_10_3_assign_material_name: percent_10_3_assign_material_name
          percent_10_3_liquid_material_name: percent_10_3_liquid_material_name
          percent_10_3_target_weigh: percent_10_3_target_weigh
          percent_10_3_volume: percent_10_3_volume
          percent_90_1_assign_material_name: percent_90_1_assign_material_name
          percent_90_1_target_weigh: percent_90_1_target_weigh
          percent_90_2_assign_material_name: percent_90_2_assign_material_name
          percent_90_2_target_weigh: percent_90_2_target_weigh
          percent_90_3_assign_material_name: percent_90_3_assign_material_name
          percent_90_3_target_weigh: percent_90_3_target_weigh
          speed: speed
          temperature: temperature
        goal_default:
          delay_time: ''
          hold_m_name: ''
          order_name: ''
          percent_10_1_assign_material_name: ''
          percent_10_1_liquid_material_name: ''
          percent_10_1_target_weigh: ''
          percent_10_1_volume: ''
          percent_10_2_assign_material_name: ''
          percent_10_2_liquid_material_name: ''
          percent_10_2_target_weigh: ''
          percent_10_2_volume: ''
          percent_10_3_assign_material_name: ''
          percent_10_3_liquid_material_name: ''
          percent_10_3_target_weigh: ''
          percent_10_3_volume: ''
          percent_90_1_assign_material_name: ''
          percent_90_1_target_weigh: ''
          percent_90_2_assign_material_name: ''
          percent_90_2_target_weigh: ''
          percent_90_3_assign_material_name: ''
          percent_90_3_target_weigh: ''
          speed: ''
          temperature: ''
        handles: {}
        result:
          return_info: return_info
        schema:
          description: ''
          properties:
            feedback:
              properties: {}
              required: []
              title: DispenStationVialFeed_Feedback
              type: object
            goal:
              properties:
                delay_time:
                  type: string
                hold_m_name:
                  type: string
                order_name:
                  type: string
                percent_10_1_assign_material_name:
                  type: string
                percent_10_1_liquid_material_name:
                  type: string
                percent_10_1_target_weigh:
                  type: string
                percent_10_1_volume:
                  type: string
                percent_10_2_assign_material_name:
                  type: string
                percent_10_2_liquid_material_name:
                  type: string
                percent_10_2_target_weigh:
                  type: string
                percent_10_2_volume:
                  type: string
                percent_10_3_assign_material_name:
                  type: string
                percent_10_3_liquid_material_name:
                  type: string
                percent_10_3_target_weigh:
                  type: string
                percent_10_3_volume:
                  type: string
                percent_90_1_assign_material_name:
                  type: string
                percent_90_1_target_weigh:
                  type: string
                percent_90_2_assign_material_name:
                  type: string
                percent_90_2_target_weigh:
                  type: string
                percent_90_3_assign_material_name:
                  type: string
                percent_90_3_target_weigh:
                  type: string
                speed:
                  type: string
                temperature:
                  type: string
              required:
              - order_name
              - percent_90_1_assign_material_name
              - percent_90_1_target_weigh
              - percent_90_2_assign_material_name
              - percent_90_2_target_weigh
              - percent_90_3_assign_material_name
              - percent_90_3_target_weigh
              - percent_10_1_assign_material_name
              - percent_10_1_target_weigh
              - percent_10_1_volume
              - percent_10_1_liquid_material_name
              - percent_10_2_assign_material_name
              - percent_10_2_target_weigh
              - percent_10_2_volume
              - percent_10_2_liquid_material_name
              - percent_10_3_assign_material_name
              - percent_10_3_target_weigh
              - percent_10_3_volume
              - percent_10_3_liquid_material_name
              - speed
              - temperature
              - delay_time
              - hold_m_name
              title: DispenStationVialFeed_Goal
              type: object
            result:
              properties:
                return_info:
                  type: string
              required:
              - return_info
              title: DispenStationVialFeed_Result
              type: object
          required:
          - goal
          title: DispenStationVialFeed
          type: object
        type: DispenStationVialFeed
      create_diamine_solution_task:
        feedback: {}
        goal:
          delay_time: delay_time
          hold_m_name: hold_m_name
          liquid_material_name: liquid_material_name
          material_name: material_name
          order_name: order_name
          speed: speed
          target_weigh: target_weigh
          temperature: temperature
          volume: volume
        goal_default:
          delay_time: ''
          hold_m_name: ''
          liquid_material_name: ''
          material_name: ''
          order_name: ''
          speed: ''
          target_weigh: ''
          temperature: ''
          volume: ''
        handles: {}
        result:
          return_info: return_info
        schema:
          description: ''
          properties:
            feedback:
              properties: {}
              required: []
              title: DispenStationSolnPrep_Feedback
              type: object
            goal:
              properties:
                delay_time:
                  type: string
                hold_m_name:
                  type: string
                liquid_material_name:
                  type: string
                material_name:
                  type: string
                order_name:
                  type: string
                speed:
                  type: string
                target_weigh:
                  type: string
                temperature:
                  type: string
                volume:
                  type: string
              required:
              - order_name
              - material_name
              - target_weigh
              - volume
              - liquid_material_name
              - speed
              - temperature
              - delay_time
              - hold_m_name
              title: DispenStationSolnPrep_Goal
              type: object
            result:
              properties:
                return_info:
                  type: string
              required:
              - return_info
              title: DispenStationSolnPrep_Result
              type: object
          required:
          - goal
          title: DispenStationSolnPrep
          type: object
        type: DispenStationSolnPrep
      wait_for_multiple_orders_and_get_reports:
        feedback: {}
        goal:
          check_interval: check_interval
          order_codes: order_codes
          order_ids: order_ids
          timeout: timeout
        goal_default:
          check_interval: '10'
          order_codes: ''
          order_ids: ''
          timeout: '7200'
        handles:
          input:
          - data_key: order_codes
            data_source: handle
            data_type: string
            handler_key: TASK_ORDER_CODES
            io_type: source
            label: Task Order Codes Array From Batch Creation
          - data_key: order_ids
            data_source: handle
            data_type: string
            handler_key: TASK_ORDER_IDS
            io_type: source
            label: Task Order IDs Array From Batch Creation
          output:
          - data_key: return_info
            data_source: handle
            data_type: object
            handler_key: batch_reports_result
            io_type: sink
            label: Batch Order Completion Reports
        result:
          return_info: return_info
        schema:
          description: 同时等待多个任务完成并获取所有实验报告。适用于批量创建任务后需要等待所有任务完成的场景，会并行监控所有任务状态并返回每个任务的报告。
          properties:
            feedback:
              properties: {}
              required: []
              title: WaitForMultipleOrdersAndGetReports_Feedback
              type: object
            goal:
              properties:
                check_interval:
                  default: '10'
                  description: 检查任务状态的时间间隔（秒），默认每10秒检查一次所有待完成任务
                  type: string
                order_codes:
                  description: '任务编码列表，JSON数组格式，如: ["task_vial_1", "task_vial_2"]，通常从batch_create任务的输出获取'
                  type: string
                order_ids:
                  description: '任务ID列表，JSON数组格式，如: ["uuid1", "uuid2"]，通常从batch_create任务的输出获取'
                  type: string
                timeout:
                  default: '7200'
                  description: 等待超时时间（秒），默认7200秒（2小时）。超过此时间未完成的任务将标记为timeout
                  type: string
              required:
              - order_codes
              - order_ids
              title: WaitForMultipleOrdersAndGetReports_Goal
              type: object
            result:
              properties:
                return_info:
                  description: 'JSON格式的批量任务完成信息，包含: total(总数), completed(成功数), timeout(超时数),
                    error(错误数), elapsed_time(总耗时), reports(报告数组，每个元素包含order_code,
                    order_id, status, completion_status, report, elapsed_time)'
                  type: string
              required:
              - return_info
              title: WaitForMultipleOrdersAndGetReports_Result
              type: object
          required:
          - goal
          title: WaitForMultipleOrdersAndGetReports
          type: object
        type: UniLabJsonCommand
      wait_for_order_completion_and_get_report:
        feedback: {}
        goal:
          check_interval: check_interval
          order_code: order_code
          order_id: order_id
          timeout: timeout
        goal_default:
          check_interval: '10'
          order_code: ''
          order_id: ''
          timeout: '7200'
        handles:
          input:
          - data_key: order_code
            data_source: handle
            data_type: string
            handler_key: task_order_code
            io_type: source
            label: Task Order Code From Creation
          - data_key: order_id
            data_source: handle
            data_type: string
            handler_key: task_order_id
            io_type: source
            label: Task Order ID From Creation
          output:
          - data_key: return_info
            data_source: handle
            data_type: object
            handler_key: report_result
            io_type: sink
            label: Order Completion Report
        result:
          return_info: return_info
        schema:
          description: 等待任务完成并获取实验报告。监控指定orderCode的任务状态，任务完成后自动调用order_report查询并返回实验报告。
          properties:
            feedback:
              properties: {}
              required: []
              title: WaitForOrderCompletionAndGetReport_Feedback
              type: object
            goal:
              properties:
                check_interval:
                  default: '10'
                  description: 检查任务状态的时间间隔（秒），默认每10秒检查一次
                  type: string
                order_code:
                  description: 任务编码，如 task_vial_1762936190，由create任务时生成并返回
                  type: string
                order_id:
                  description: 任务ID（UUID），如 3a1d895c-4d39-d504-1398-18f5a40bac1e，由create任务时从API返回结果中提取
                  type: string
                timeout:
                  default: '7200'
                  description: 等待超时时间（秒），默认7200秒（2小时）。超过此时间任务仍未完成将抛出异常
                  type: string
              required:
              - order_code
              - order_id
              title: WaitForOrderCompletionAndGetReport_Goal
              type: object
            result:
              properties:
                return_info:
                  description: 'JSON格式的任务完成信息和实验报告，包含: order_code, order_id, status(completed/timeout/error),
                    completion_status(30:完成/-11:异常停止/-12:人工停止), report(实验报告数据), elapsed_time(等待时长)'
                  type: string
              required:
              - return_info
              title: WaitForOrderCompletionAndGetReport_Result
              type: object
          required:
          - goal
          title: WaitForOrderCompletionAndGetReport
          type: object
        type: UniLabJsonCommand
    module: unilabos.devices.workstation.bioyond_studio.dispensing_station:BioyondDispensingStation
    status_types: {}
    type: python
  config_info: []
  description: ''
  handles: []
  icon: preparation_station.webp
  init_param_schema:
    config:
      properties:
        config:
          type: string
      required:
      - config
      type: object
    data:
      properties: {}
      required: []
      type: object
  version: 1.0.0
